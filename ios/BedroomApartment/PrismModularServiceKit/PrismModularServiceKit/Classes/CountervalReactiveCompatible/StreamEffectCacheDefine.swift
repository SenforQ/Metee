
//: Declare String Begin

/*: "TalkingAddrServerUrlSelectIndexKey" :*/
fileprivate let user_fileText:[UInt8] = [0x2b,0x1e,0x13,0x14,0x16,0x11,0x18,0x3e,0x1b,0x1b,0xd,0x2c,0x1a,0xd,0x9,0x1a,0xd,0x2a,0xd,0x13,0x2c,0x1a,0x13,0x1a,0x1c,0xb,0x36,0x11,0x1b,0x1a,0x7,0x34,0x1a,0x6]

/*: "TalkingAppleLoginNickNameKey" :*/
fileprivate let userSizeTitle:String = "var anyTalk"
fileprivate let userOnlyFormat:String = "ppleLcolor be color"
fileprivate let notiLeadTapFormat:String = "image makeoginN"
fileprivate let notiSharedTitle:String = "eKeymedium popular else add if"

/*: "TalkingLoginUidCacheKey" :*/
fileprivate let appListenInsideId:String = "make frameTalki"
fileprivate let dataEqualLabFormat:String = "ngLoshare path title layer time"
fileprivate let showValueTitle:String = "var netdCacheKey"

/*: "TalkingLoginUserInfoCacheKey" :*/
fileprivate let const_squareMessage:[Character] = ["T","a","l","k","i","n","g","L","o","g","i","n","U","s","e","r","I","n","f","o","C","a","c","h"]
fileprivate let show_sizePath:[Character] = ["e","K","e","y"]

/*: "TalkingLastLoginTypeCacheKey" :*/
fileprivate let k_viewKey:String = "Talkintext format"
fileprivate let k_rawUrl:String = "Logiview center number color suite"
fileprivate let userValueData:String = "CacheKeymake var"

/*: "TalkingLoginUserConfigKey" :*/
fileprivate let showMakeValue:[Character] = ["T","a","l","k","i","n","g","L","o","g","i","n","U","s","e","r","C","o","n","f","i","g","K","e","y"]

/*: "TalkingAppConfigKey" :*/
fileprivate let show_clearPath:[Character] = ["T","a","l","k","i","n","g","A","p","p","C","o","n"]
fileprivate let constStopFormat:String = "user messagefigKey"

/*: "TalkingUserTagCacheUrlKey" :*/
fileprivate let mainSectionTitle:[Character] = ["T","a","l","k","i","n","g","U","s","e","r","T","a","g","C"]
fileprivate let kTapMainPathValue:[Character] = ["a","c","h","e","U","r","l","K","e","y"]

/*: "TalkingUserCookiesKey" :*/
fileprivate let app_againKey:[Character] = ["T","a","l","k","i","n","g","U","s","e","r","C","o","o","k","i","e","s","K","e","y"]

/*: "TalkingHomeTabTurnOnNotificationsKey" :*/
fileprivate let data_topPath:[UInt8] = [0x79,0x65,0x4b,0x73,0x6e,0x6f,0x69,0x74,0x61,0x63,0x69,0x66,0x69,0x74,0x6f,0x4e,0x6e,0x4f,0x6e,0x72,0x75,0x54,0x62,0x61,0x54,0x65,0x6d,0x6f,0x48,0x67,0x6e,0x69,0x6b,0x6c,0x61,0x54]

/*: "TalkingMessageTabTurnOnNotificationsKey" :*/
fileprivate let user_liveTitle:[UInt8] = [0x62,0x57,0x5a,0x5d,0x5f,0x58,0x51,0x7b,0x53,0x45,0x45,0x57,0x51,0x53,0x62,0x57,0x54,0x62,0x43,0x44,0x58,0x79,0x58,0x78,0x59,0x42,0x5f,0x50,0x5f,0x55,0x57,0x42,0x5f,0x59,0x58,0x45,0x7d,0x53,0x4f]

private func withModel(image num: UInt8) -> UInt8 {
    return num ^ 54
}

/*: "TalkingMessageTabCloseNotificationsKey" :*/
fileprivate let noti_localFormat:[UInt8] = [0xad,0x98,0x95,0x92,0x90,0x97,0x9e,0xb4,0x9c,0x8a,0x8a,0x98,0x9e,0x9c,0xad,0x98,0x9b,0xba,0x95,0x96,0x8a,0x9c,0xb7,0x96,0x8d,0x90,0x9f,0x90,0x9a,0x98,0x8d,0x90,0x96,0x97,0x8a,0xb2,0x9c,0x80]

/*: "TalkingCallShowTag" :*/
fileprivate let show_layerPath:String = "Talkmake let date first"
fileprivate let k_textTitle:String = "array tool progressllSh"

/*: "TalkingFirstShowIntimateGuide" :*/
fileprivate let user_colorPath:[Character] = ["T","a","l","k","i","n","g","F","i","r","s","t","S","h","o","w","I","n","t","i","m","a","t","e","G","u","i","d","e"]

/*: "TalkingFreeTipsViewIsShow_ :*/
fileprivate let constTableName:[Character] = ["T","a","l","k","i","n","g","F","r","e","e","T","i","p","s","V","i","e","w","I","s","S","h","o","w"]
fileprivate let notiModifyId:[Character] = ["_"]

/*: "TalkingLiveTabExplainIsShow_ :*/
fileprivate let app_contentData:String = "Talkinshow view custom deadline for"
fileprivate let main_toReasonName:String = "the returnTabExpla"
fileprivate let kManagerValueName:[Character] = ["i","n","I","s","S","h","o","w","_"]

/*: "TalkingMaleUnsubscribedAlertIsShow_ :*/
fileprivate let constStatusFormat:[UInt8] = [0xce,0xdb,0xe6,0xe5,0xe3,0xe8,0xe1,0xc7,0xdb,0xe6,0xdf,0xcf,0xe8,0xed,0xef,0xdc,0xed,0xdd,0xec,0xe3,0xdc,0xdf,0xde,0xbb,0xe6,0xdf,0xec,0xee,0xc3,0xed,0xcd,0xe2,0xe9,0xf1,0xd9]

fileprivate func infoBottom(head num: UInt8) -> UInt8 {
    let value = Int(num) + 134
    if value > 255 {
        return UInt8(value - 256)
    } else {
        return UInt8(value)
    }
}
 
/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let userContentKey:String = "isFitalk any with"
fileprivate let dataFrameFormat:String = "howAnicolor make item title"
fileprivate let show_femaleFormat:String = "view themematCa"

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let noti_targetId:[UInt8] = [0xe1,0xeb,0xbe,0xe1,0xea,0xeb,0xec,0xcb,0xe0,0xe7,0xef,0xc5,0xd9,0xec,0xdb,0xe0,0xcc,0xe1,0xe8,0xeb,0xce,0xe1,0xdd,0xef,0xbb,0xd9,0xdb,0xe0,0xdd,0xc3,0xdd,0xf1]

fileprivate func contentSizeTable(normal num: UInt8) -> UInt8 {
    let value = Int(num) + 136
    if value > 255 {
        return UInt8(value - 256)
    } else {
        return UInt8(value)
    }
}

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let userLayerUrl:String = "isShowimage equal tap"
fileprivate let data_colorKey:String = "NIMA"
fileprivate let noti_cellText:String = "with true sizeheKey"

/*: "isConversationIntimateCacheKey" :*/
fileprivate let mainCornerTitle:String = "request will height topisCo"
fileprivate let userStopFormat:String = "TION"
fileprivate let main_nowEqualValue:String = "post key modeleCac"

/*: "sendAutoGreetIsTo" :*/
fileprivate let kAppKey:[Character] = ["s","e","n","d","A","u","t","o","G","r","e","e","t","I"]
fileprivate let main_giveCounteractionData:String = "sTomale to i white value"

/*: "SaveInviteCodeKey" :*/
fileprivate let user_dataKey:String = "Saves with"
fileprivate let data_viewName:String = "Invitattention key view"
fileprivate let appUpData:String = "background count model with supereKey"

/*: "PrivateChatTipsTitle" :*/
fileprivate let user_noRequestFormat:String = "text with point title heightPrivat"
fileprivate let main_bottomFormatUrl:String = "type begin size elseeChat"
fileprivate let app_pointContent:String = "viewtle"

/*: "/Documents/User/record/" :*/
fileprivate let data_shouldTextFormat:String = "let product var raw image/Doc"
fileprivate let k_toolSizePostData:[Character] = ["/","U","s","e","r","/","r","e","c","o","r","d","/"]

/*: "/Documents/User/voice/" :*/
fileprivate let dataGoStr:[Character] = ["/","D","o","c","u","m","e","n","t","s","/","U","s","e","r"]
fileprivate let app_resultViewToUrl:String = "become day manager/voice/"

/*: "MessageIntimatePhoto" :*/
fileprivate let const_contentData:[Character] = ["M","e","s","s","a","g","e","I","n","t","i","m","a","t","e","P","h","o","t","o"]

/*: "IntimateDict_ :*/
fileprivate let notiCenterPath:[Character] = ["I","n","t","i","m","a","t","e","D","i","c"]
fileprivate let appScalePath:String = "to make effectt_"

/*: "MessageIntimateVideo" :*/
fileprivate let showTitleName:String = "Messview as use class string"
fileprivate let appHiddenArrayPath:String = "tlanguagemate"

/*: "MessageAskForGift" :*/
fileprivate let dataMUserFormat:String = "Messavideo selection"
fileprivate let kCollectData:String = "gender"
fileprivate let mainRegularPath:[Character] = ["e","A","s","k","F","o","r","G","i","f","t"]

/*: "AskForGiftArr_ :*/
fileprivate let app_nameInfoFormat:[Character] = ["A","s","k","F","o"]
fileprivate let main_labelMakeValue:String = "cover at view leadingrGiftArr_"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  StreamEffectCacheDefine.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let kBarUrl = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "TalkingAddrServerUrlSelectIndexKey"
public let main_messageStr = String(bytes: user_fileText.map{$0^127}, encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "TalkingAppleLoginNickNameKey"
public let app_progressId = (String(userSizeTitle.suffix(4)) + "ingA" + String(userOnlyFormat.prefix(5)) + String(notiLeadTapFormat.suffix(5)) + "ickNam" + String(notiSharedTitle.prefix(4)))

//: public let TalkingLoginUidCacheKey                  = "TalkingLoginUidCacheKey"                  // uid缓存
public let user_topTitle = (String(appListenInsideId.suffix(5)) + String(dataEqualLabFormat.prefix(4)) + "ginUi" + String(showValueTitle.suffix(9))) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "TalkingLoginUserInfoCacheKey"             // 用户信息缓存
public let userAppStr = (String(const_squareMessage) + String(show_sizePath)) // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "TalkingLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let notiSessionMsg = (String(k_viewKey.prefix(6)) + "gLast" + String(k_rawUrl.prefix(4)) + "nType" + String(userValueData.prefix(8))) // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "TalkingLoginUserConfigKey"                // 用户配置接口
public let k_replaceStr = (String(showMakeValue)) // 用户配置接口
//: public let TalkingAppConfigKey                      = "TalkingAppConfigKey"                      // APP配置接口
public let appToMsg = (String(show_clearPath) + String(constStopFormat.suffix(6))) // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "TalkingUserTagCacheUrlKey"                // 用户标签
public let user_keyMaxName = (String(mainSectionTitle) + String(kTapMainPathValue)) // 用户标签
//: public let TalkingUserCookiesKey                    = "TalkingUserCookiesKey"                    // 用户cookies
public let dataSizeTopMsg = (String(app_againKey)) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "TalkingHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let user_askName = String(bytes: data_topPath.reversed(), encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "TalkingMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let notiSuccessMessage = String(bytes: user_liveTitle.map{withModel(image: $0)}, encoding: .utf8)! // messageTab_提醒打开系统通知

//: public let TalkingMessageTabCloseNotificationsKey  = "TalkingMessageTabCloseNotificationsKey"  // message 提醒View关闭缓存
public let main_rateTitle = String(bytes: noti_localFormat.map{$0^249}, encoding: .utf8)! // message 提醒View关闭缓存

//: public let TalkingCallShowTag                = "TalkingCallShowTag"                // 女性接听时展示手势
public let const_buttonCellMsg = (String(show_layerPath.prefix(4)) + "ingCa" + String(k_textTitle.suffix(4)) + "owTag") // 女性接听时展示手势

//: public let TalkingFirstShowIntimateGuide                = "TalkingFirstShowIntimateGuide"                // 消息详情首次展示亲密度动效
public let notiBarTitle = (String(user_colorPath)) // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var data_errorUrl: String {
    //: return "TalkingFreeTipsViewIsShow_\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
    return (String(constTableName) + String(notiModifyId)) + "\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var user_sizeName: String {
    //: return "TalkingLiveTabExplainIsShow_\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
    return (String(app_contentData.prefix(6)) + "gLive" + String(main_toReasonName.suffix(8)) + String(kManagerValueName)) + "\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var data_replaceEventViewMessage: String {
    //: return "TalkingMaleUnsubscribedAlertIsShow_\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
    return String(bytes: constStatusFormat.map{infoBottom(head: $0)}, encoding: .utf8)! + "\(String(RegularBeginDecisionMakerAppManager.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "TalkingAIIntimacyViewIsShow"
public let userNetId = "AIIntimacyViewIsShow"

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let k_invitePath = (String(userContentKey.prefix(4)) + "rstS" + String(dataFrameFormat.prefix(6)) + String(show_femaleFormat.suffix(5)) + "cheKey")

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let main_giftReplaceFormat = String(bytes: noti_targetId.map{contentSizeTable(normal: $0)}, encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let k_onUrl = (String(userLayerUrl.prefix(6)) + "CleanA" + data_colorKey.lowercased() + "tCac" + String(noti_cellText.suffix(5)))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let show_limitMessage = (String(mainCornerTitle.suffix(4)) + "nversa" + userStopFormat.lowercased() + "Intimat" + String(main_nowEqualValue.suffix(4)) + "heKey")

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let noti_barStr = (String(kAppKey) + String(main_giveCounteractionData.prefix(3)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let mainHomeId = (String(user_dataKey.prefix(4)) + String(data_viewName.prefix(5)) + "eCod" + String(appUpData.suffix(4)))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let mainSeatStr = (String(user_noRequestFormat.suffix(6)) + String(main_bottomFormatUrl.suffix(5)) + "TipsT" + app_pointContent.replacingOccurrences(of: "view", with: "i"))

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let const_buttonMsg = NSHomeDirectory().appending((String(data_shouldTextFormat.suffix(4)) + "uments" + String(k_toolSizePostData)))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let const_rejectMineMatchUrl = NSHomeDirectory().appending((String(dataGoStr) + String(app_resultViewToUrl.suffix(7))))

//: @objcMembers public class StreamEffectCacheDefine: NSObject {
@objcMembers public class StreamEffectCacheDefine: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func underList() -> String {
        //: return Talking_Chat_record_SandboxPath
        return const_buttonMsg
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func toDrop() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return const_rejectMineMatchUrl
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func windowPerform() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(const_contentData))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(notiCenterPath) + String(appScalePath.suffix(2))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func digitizerLog() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(showTitleName.prefix(4)) + "ageIn" + appHiddenArrayPath.replacingOccurrences(of: "language", with: "i") + "Video")) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(notiCenterPath) + String(appScalePath.suffix(2))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func realize() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(dataMUserFormat.prefix(5)) + kCollectData.replacingOccurrences(of: "gender", with: "g") + String(mainRegularPath))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        let uid = RegularBeginDecisionMakerAppManager.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(app_nameInfoFormat) + String(main_labelMakeValue.suffix(9))) + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.textData(folderPath: const_buttonMsg)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.textData(folderPath: const_rejectMineMatchUrl)
}
